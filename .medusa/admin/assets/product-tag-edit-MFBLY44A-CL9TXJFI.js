import{a8 as m,S as g,b as j,eF as p,j as s,H as f,aa as v,ab as b,eG as T,t as x,w as t,x as y,B as h}from"./index-Caf50g4I.js";import{K as F}from"./chunk-6HTZNHPT-_WRLDY31.js";import{b as e,u as P}from"./chunk-JGQGO74V-CT1-L7kV.js";import"./prompt-Cvy-OtTy.js";var E=m.object({value:m.string().min(1)}),S=({productTag:o})=>{const{t:r}=j(),{handleSuccess:n}=P(),a=v({defaultValues:{value:o.value},resolver:b(E)}),{mutateAsync:i,isPending:l}=T(o.id),c=a.handleSubmit(async d=>{await i(d,{onSuccess:({product_tag:u})=>{x.success(r("productTags.edit.successToast",{value:u.value})),n()},onError:u=>{x.error(u.message)}})});return s.jsx(e.Form,{form:a,children:s.jsxs(F,{className:"flex size-full flex-col overflow-hidden",onSubmit:c,children:[s.jsx(e.Body,{className:"flex flex-1 flex-col overflow-auto",children:s.jsx(t.Field,{control:a.control,name:"value",render:({field:d})=>s.jsxs(t.Item,{children:[s.jsx(t.Label,{children:r("productTags.fields.value")}),s.jsx(t.Control,{children:s.jsx(y,{...d})}),s.jsx(t.ErrorMessage,{})]})})}),s.jsx(e.Footer,{children:s.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[s.jsx(e.Close,{asChild:!0,children:s.jsx(h,{variant:"secondary",size:"small",type:"button",children:r("actions.cancel")})}),s.jsx(h,{size:"small",type:"submit",isLoading:l,children:r("actions.save")})]})})]})})},B=()=>{const{id:o}=g(),{t:r}=j(),{product_tag:n,isPending:a,isError:i,error:l}=p(o),c=!a&&!!n;if(i)throw l;return s.jsxs(e,{children:[s.jsxs(e.Header,{children:[s.jsx(e.Title,{asChild:!0,children:s.jsx(f,{children:r("productTags.edit.header")})}),s.jsx(e.Description,{className:"sr-only",children:r("productTags.edit.subtitle")})]}),c&&s.jsx(S,{productTag:n})]})};export{B as Component};
